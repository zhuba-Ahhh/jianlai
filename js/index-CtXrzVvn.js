import{j as e,u as s,a as t,b as a,L as r,c as l,R as n}from"./.pnpm-Cu68ziOV.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const c=["有些事情做了，是因为必须要做，不代表我就一点不害怕啊。","月色入高楼，烦，它也来，恋，它也去。","所有难熬又熬过去的苦难，就是在心头砸下一个坑，坑越大，以后就可以容纳更多。","常年不言不语之人，要么性情憨厚不善言辞，要么就是心计多如牛毛了。","簪子上有八个字，便是仅算粗通文墨的少女，也觉得极为动人。言念君子，温其如玉。","吾心安处即吾乡。吾乡何处不可眠。","陇上花又开，先生缓缓归矣。","春王正月，大雨霖以震，书始也。","年少时，大抵如此，总觉得不守规矩，才是一件有本事的事情。","看似给他很多选择，其实就是没得选择。人生路上，不都如此？不单是陈平安身陷如此困局。","有些人心如花木，皆向阳而生。","人都会长大的，长大了之后，就会捡起一些新东西，丢掉一些旧东西，就这么丢丢捡捡，哗啦一下子，就老喽。","不是有件事你做对了，别人没做，他们就是不对的。不是有件事你做错了，别人做了，他们就也是错的。","至于你们啊，太不讲理了。读书人不该如此霸道的。应该以圣贤道理教化苍生，应当春风化雨，润物无声。","天底下只要是真正好看的女子，说不说话，都是风景。","一个随便把别人当朋友的人，往往不会有真正的朋友。一个喜欢嘴上称兄道弟的人，心里其实没有真正的兄弟。","傻一点，总比精明得半点不聪明，要好。","江湖也没什么好的，也就酒还好。","整个浩然天下都是你儒家的门户，贫道就偏偏要在你家里，独立开辟出一座小花园。","是你的就好好抓住，不是你的就不要多想。天底下没谁是欠你的，但是你欠了别人，就别不当回事。","为善而不知是善，为恶而自知是恶。","喝了酒，就敢想不敢想的，敢说不敢说的，敢做不敢做的。","人情送头牛，买卖不饶针。","喜欢谁，我自己又管不住自己的，你觉得轻浮就你觉得，我也不管你。","少年飞跃溪水的时候，就像一头经常盘旋在小镇天空的捕蛇鹰。","自童年起，我就独自一人，照看历代星辰。","背后不说人是非，公道自在人心。","对天地怀有敬畏之心，将自己视为生死大敌。","有些委屈，无论大小，只有受过同样委屈的人，才可以真正体会。","行走江湖，我有一剑！","道理，不是弱者只能拿来诉苦喊冤的东西，不是必须要跪下磕头才能开口的言语。","我辈大道修行，切忌担夫争道。","一个肆意摔罐子砸瓶子的人，永远要比护住每一只瓶瓶罐罐的人要轻松几分。","又要多知道些别人与自己的不同之处，才会知道别人到底是为何活得好，活得不好。","当我们对这个世界很挂念，便会把日子过的很辛苦。","会真正折损自身利益的时候，还能分出是非，明辨取舍，不以得失乱心境，才是真正的道理。","每一位修道之人，其实就是每一座自身小天地的老天爷，凭自家功夫，做自家圣人。","人生不如意之事七八九，能与人言一二三都无，才算坎坷。","仙，迁也，迁入山也。红尘多烦忧，藕断又丝连。故而宜入名山，身也清净心也清静。","心定且赤诚，何其难也。","孩子低着头，双手使劲攥紧系挂箩筐的绳子，摇摇晃晃，离开了宅子和巷子，再也没有回家。","既然做不得更多，你往好处多想就是了。","我先跟自己比，自己觉得问心无愧了，再跟其他人比！","我希望有一天，当我陈平安站在某处，道理就在某处。","情爱一物，是烧菜的佐料，有了是最好，可没有，不打紧，总有从别处找补回来的事物。","世间一个个文字，是有力量的。字眼组合成词，词汇串联成句，语句契合成文章。大道就在其中。","愿先生心境，四季如春。","不是“我觉得”三个字，可以弥补所有因为好心办坏事带来的后果。","愿那人间有情人，成双成对，终成眷属，愿白首不负心的已逝之人，生生死死皆在一起。","送人之时唯豪气，事后想起心肝疼。","不得拳真意，百年门外汉。一悟拳真意，十年打鬼神。","如果你的朋友过得比你好，好很多，好到让你望尘莫及，一辈子追不上，那么你心里头会不会一点点别扭？","命里八分，莫求一丈。","魏檗摇头道：既然拿得起，就没有放得下的道理。","人心有反复，好在山水有相逢。","本事不够，喝酒来凑。","人生何处不相逢，总有再见面的一天。","有些人之间，注定只要相逢，就是对的。如果还能重逢，就是最好的。","该省之省，一文铜钱，即是家族根本。该花则花，一掷千金，根本无需眨眼。","但这不妨碍那些还能再见的相逢，让人欢喜，让人饮酒，让人开心颜。","真正的强者，都应该以弱者的自由为边界，当出剑向更强处。","江湖没什么好的，也就酒还行，酒呢，来来来！谁来与我共饮这江湖酒？","人生天地间，大丈夫泪目，必是心碎时。","许多今日之心心念念，无非是来年之付诸一笑。","故乡垄头，陌上花开，先生可以缓缓归矣。","人生不是书上的故事，喜怒哀乐，悲欢离合，都在书页间，可书页翻篇何其易，人心修补何其难。","人生路上，总会有那么几场疾风骤雨，就像是老天爷在提醒世人，你们是在寄人篱下，要乖乖低头。","百事忙千事忧，到头来万事休，天凉好个秋呀好个秋！","陈平安，记住，以后不管遇到什么，都不要对这个世界失去希望。","好个风月无边，碎圆又有相逢。","没有修复和重建能力的破坏，都是自取灭亡，不是长久之道。","如何变坏为好，是本事，好上加好，更是能耐。真正看着世间万物的，不是双眼，是人心。","前贤以言语铺路，你大步走去即可，临水而观，低头见那水中月碎又圆，抬头再见本相月，本就更显光明。","人心经不起推敲试探！","遇事不决，可问春风，春风不语，既随本心。","入秋时节，却如沐春风。","身前无人，双拳而已。","山外风雨三尺剑，有事提剑下山去；云中花鸟一屋书，无忧翻书圣贤来。","一次机缘之下，左右得到了那把佩剑后，小齐曾笑言，偶得三尺剑，跨海斩长鲸，收鞘挂壁上，犹有铮铮鸣。","世间成事者，超世之才不过其次，坚韧不拔之志，方为首要。","呼啸成风，势大力沉。","不要把陌生人的些许善意，视为珍稀的瑰宝；却把身边亲近人的全部付出，当做天经地义的事情，对其视而不见。"],i=()=>e.jsx("div",{className:"grid gap-8 p-8 md:grid-cols-2 lg:grid-cols-3",children:c.map((t=>e.jsx("div",{className:"p-8 bg-white rounded-xl shadow-md hover:shadow-2xl transition-shadow duration-300 border border-gray-300 transform hover:-translate-y-1 hover:scale-105",children:e.jsx("p",{className:"text-lg font-semibold text-gray-900 leading-relaxed",children:t})},s())))}),o=()=>e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:e.jsx("span",{className:"loading loading-spinner loading-lg"})});function d(){const[s,t]=React.useState(!0);return React.useEffect((()=>{setTimeout((()=>{t(!1)}),1e3)}),[]),e.jsx("main",{className:"container mx-auto",children:s?e.jsx(o,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-16"}),e.jsx(i,{})]})})}const m=axios.create({baseURL:"/api",timeout:6e3});m.interceptors.request.use((e=>e),(e=>Promise.reject(e))),m.interceptors.response.use((e=>{const{code:s,message:t,data:a}=e.data;return 0===s||1===s?a:Promise.reject(new Error(t))}),(e=>{var s;let t="";switch(null==(s=e.response)?void 0:s.status){case 401:t="token 失效，请重新登录";break;case 403:t="拒绝访问";break;case 404:t="请求地址错误";break;case 500:t="服务器故障";break;default:t="网络连接故障"}return Promise.reject(e)}));const x={get:(e,s)=>m.get(e,s),post:(e,s,t)=>m.post(e,s,t),put:(e,s,t)=>m.put(e,s,t),delete:(e,s)=>m.delete(e,s)},h=({tabs:s,initialActiveKey:t,onChange:a})=>{const[r,l]=React.useState(t||(s.length>0?s[0].key:""));return e.jsxs(e.Fragment,{children:[(null==s?void 0:s.length)>0&&e.jsx("div",{role:"tablist",className:"tabs tabs-bordered",children:s.map((s=>e.jsx("button",{role:"tab",className:"tab "+(r===s.key?"tab-active":""),onClick:()=>{return e=s.key,l(e),void(a&&a(e));var e},children:s.label},`tab-${s.key}`)))}),(null==s?void 0:s.some((e=>!!(null==e?void 0:e.content))))&&e.jsx("div",{className:"tabs-content mt-2",children:s.map((s=>e.jsx("div",{role:"tabpanel",className:"tab-panel "+(r===s.key?"active":""),style:{display:r===s.key?"block":"none",transition:"opacity 0.3s ease-in-out",opacity:r===s.key?1:0},children:null==s?void 0:s.content},`content-${s.key}`)))})]})},u=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),j=["全部类型","都市","玄幻","奇幻","历史","科幻","军事","游戏"],p=({initialCategory:s="全部类型"})=>{const a=t(),[r,l]=React.useState([]),[n,c]=React.useState(!0),[i,d]=React.useState(s);React.useEffect((()=>{(async()=>{try{const e=await x.get(`/hot?category=${i}`);l(e)}catch(e){l([])}finally{c(!1)}})()}),[i]);const m=React.useCallback((async e=>{var s;const t=await x.get(`/book?name=${e}`);(null==t?void 0:t.length)>0&&a(`/book/${g(null==(s=t[0])?void 0:s.url)}`)}),[a]);return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"h-16"}),e.jsx(h,{initialActiveKey:"全部类型",tabs:j.map((e=>({key:e,label:e}))),onChange:e=>{d(e)}}),e.jsx("div",{className:"h-8"}),n?e.jsx(o,{}):(null==r?void 0:r.length)>0?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:r.map((s=>e.jsxs("div",{onClick:()=>m(s.name),className:"card card-compact hover:shadow-lg hover:rounded-lg transition-shadow duration-300",children:[e.jsx("img",{src:s.img,alt:s.name,className:"w-full h-64 object-contain mt-4"}),e.jsxs("div",{className:"card-body flex-col items-start p-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:s.desc}),e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("span",{role:"button",tabIndex:0,className:"text-sm px-2 py-1 bg-secondary-100 text-secondary-700 rounded-full cursor-pointer",onClick:()=>{i!==s.type&&d(s.type)},children:s.type}),e.jsxs("span",{className:"text-sm font-medium text-orange-500",children:["热度: ",s.hot]})]}),e.jsxs("div",{className:"flex items-center space-x-1 mt-3 text-gray-500",children:[e.jsx(u,{}),e.jsx("p",{className:"text-sm truncate",children:s.author})]})]})]},s.name)))}):e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-xl text-gray-500",children:"暂无相关书籍"})})]})},g=e=>{const s=e.match(/\d+(?=\/?$)/);return s?parseInt(s[0],10):null},b=()=>{const[t,a]=React.useState([]),[r,l]=React.useState(!1);return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const s=new FormData(e.currentTarget).get("search");if(s.trim()){l(!0);try{const e=await x.get(`/search?keyword=${encodeURIComponent(s)}`);a(e)}catch(t){a([])}finally{l(!1)}}},className:"flex mb-8 justify-between w-full",children:[e.jsx("input",{type:"text",name:"search",placeholder:"输入书名搜索",className:"input input-bordered w-full mr-8",style:{outlineOffset:0}}),e.jsx("button",{type:"submit",className:"btn px-6",children:"搜索"})]}),r?e.jsx("p",{className:"text-center",children:"正在搜索..."}):(null==t?void 0:t.length)>0?e.jsx("div",{className:"space-y-4",children:t.map((t=>e.jsx("div",{className:"card w-full shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-2",children:[t.name," ",t.author]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.new}),e.jsxs("div",{children:[e.jsx("a",{href:`/book/${encodeURIComponent(t.book[0].url)}`,className:"text-blue-600 hover:underline mr-4 cursor-pointer",children:"查看详情"}),e.jsx("a",{href:t.newurl,className:"text-green-600 hover:underline cursor-pointer",children:"阅读最新章节"})]})]})},s())))}):e.jsx("p",{className:"text-center text-gray-500",children:"暂无搜索结果"})]})},y=()=>{const{url:s}=a(),[t,r]=React.useState(null),[l,n]=React.useState(!0);return React.useEffect((()=>{(async()=>{try{const e=await x.get(`/book/bqs/xiaoshuo/${s}`);r(e)}catch(e){}finally{n(!1)}})()}),[s]),l?e.jsx(o,{}):t?e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"h-16"}),e.jsxs("div",{className:"card card-side bg-base-100 shadow-xl transition-transform transform hover:scale-105",children:[e.jsx("figure",{className:"ml-6",children:e.jsx("img",{src:`https://api.book.bbdaxia.com${t.img}`,alt:t.name,className:"w-48 h-auto mb-4 md:mb-0 md:mr-6 object-contain rounded-lg shadow-md"})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-800",children:t.name}),e.jsxs("p",{className:"mb-2 text-gray-600",children:["作者：",t.author]}),e.jsxs("p",{className:"mb-2 text-gray-600",children:["类型：",t.type]}),e.jsx("p",{className:"mb-4 text-gray-700",children:t.desc})]})]}),e.jsx("h2",{className:"text-2xl font-semibold mt-4 mb-4 text-gray-800",children:"章节列表"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.list.map(((s,t)=>e.jsx("a",{className:"link link-hover truncate hover:underline",href:s.url,children:s.name},t)))})]}):e.jsx("div",{className:"mx-auto",children:e.jsx("p",{className:"text-center",children:"未找到书籍信息"})})},f=()=>e.jsxs("ul",{className:"navbar bg-base-100",children:[e.jsx("li",{className:"navbar-start",children:e.jsx(r,{to:"/",className:"text-2xl font-bold",children:"剑来小说"})}),e.jsxs("div",{className:"navbar-end flex-grow flex justify-end items-center space-x-4",children:[e.jsx("li",{className:"hover:text-gray-400",children:e.jsx(r,{to:"/",children:"首页"})}),e.jsx("li",{className:"hover:text-gray-400",children:e.jsx(r,{to:"/list",children:"章节列表"})}),e.jsx("li",{className:"hover:text-gray-400",children:e.jsx(r,{to:"/search",children:"搜索"})})]})]}),v=l([{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(d,{})]})},{path:"/list",element:e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(p,{})]})},{path:"/search",element:e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(b,{})]})},{path:"/book/:url",element:e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(y,{})]})}]),N=document.getElementById("root");if(N){ReactDOM.createRoot(N).render(e.jsx(React.StrictMode,{children:e.jsx(n,{router:v})}))}
